<p-dialog
  header="Załóż konto"
  [modal]="true"
  [(visible)]="display"
  [closable]="true"
  [style]="{ width: '25rem' }"
  #modalContainer
>
  <form [formGroup]="signupForm" (ngSubmit)="onRegister()">
    <div class="flex flex-col gap-4 p-fluid">
      <div class="p-field">
        <label for="phoneNumber">Numer telefonu</label>
        <input id="phoneNumber" type="text" class="p-inputtext-sm" pInputText formControlName="phoneNumber"/>
        <small *ngIf="signupForm.get('phoneNumber')?.invalid && signupForm.get('phoneNumber')?.touched" class="p-error">
          Numer telefonu musi składać się z 9 cyfr
        </small>
      </div>
      <div class="p-field">
        <label for="email">Email</label>
        <input id="email" type="email" class="p-inputtext-sm" pInputText formControlName="email"/>
        <small
          *ngIf="signupForm.get('email')?.hasError('email') && (signupForm.get('email')?.touched || signupForm.get('email')?.dirty)"
          class="p-error"
        >
        Wprwoadzony adres ma zły format
        </small>
      </div>
      <div class="p-field">
        <label for="password">Hasło</label>
        <input id="password" type="password" class="p-inputtext-sm" pInputText formControlName="password"/>
        <small
          *ngIf="signupForm.get('password')?.hasError('minlength') && (signupForm.get('password')?.touched ||
          signupForm.get('password')?.dirty)"
          class="p-error"
        >
          Hasło musi mieć co najmniej 8 znaków.
        </small>
      </div>
      <div class="p-field">
        <label for="confirmPassword">Potwierdź hasło</label>
        <input id="confirmPassword" type="password" class="p-inputtext-sm" pInputText formControlName="confirmPassword"/>
        <small
          *ngIf="signupForm.hasError('mismatch') && (signupForm.get('confirmPassword')?.touched || signupForm.get('confirmPassword')?.dirty)"
          class="p-error"
        >
          Hasła muszą być identyczne.
        </small>
      </div>
    </div>
    <div class="flex justify-end gap-2 mt-6">
      <p-button
        label="Anuluj"
        icon="pi pi-times"
        severity="secondary"
        size="small"
        (onClick)="onCancel()"
      />
      <p-button
        label="Zapisz"
        icon="pi pi-check"
        size="small"
        [disabled]="signupForm.invalid"
        (onClick)="onRegister()"
      />
    </div>
  </form>
</p-dialog>
